import random
import requests

def get_random_word():
    try:
        response = requests.get("https://random-word-api.herokuapp.com/word")
        if response.status_code == 200:
            return response.json()[0]
        else:
            return "python"  # fallback
    except:
        return "code"  # fallback if no internet



# word_list = ['python', 'java', 'javascript', 'ruby', 'swift', 'kotlin', 'typescript', 'csharp', 'php', 'go']
# secret_word = random.choice(word_list)
secret_word = get_random_word()

guessed = ['_']* len(secret_word)
attempts = len(secret_word)+1

guessed_letters = []

print("Welcome to Hangman!")
print("Let's begin the game!")

while attempts > 0 and '_' in guessed:
    print("Hint:"," ".join(guessed))
    guess = input("Enter a letter:").lower()
    

    if not guess.isalpha() or len(guess) != 1:
        print("❌ please enter a single alphabetic character.")
        continue

    if guess in guessed_letters:
        print("⚠️ You have already guessed that")
        continue

    guessed_letters.append(guess)

    if guess in secret_word:
        print("✅ Well Done!")
        for i in range(len(secret_word)):
            if secret_word[i] == guess:
                guessed[i] = guess
                
    else:
        attempts -= 1
        print("❌ Wrong guess! You have", attempts, "attempts left.")
        print("Current Word: "+"".join(guessed))

if '_' not in guessed:
    print("🎉 Congratulations! You've guessed the word:",secret_word)
else:
    print("💀 You lost! The correct word was: ",secret_word)
